"use strict";function isValidDottedPath(e){return e!=null&&e!==""&&e!=="hasOwnProperty"&&MEMBER_NAME_REGEX.test("."+e)}function lookupDottedPath(e,t){if(!isValidDottedPath(t))throw $resourceMinErr("badmember",'Dotted member path "@{0}" is invalid.',t);var n=t.split(".");for(var r=0,i=n.length;r<i&&e!==undefined;r++){var s=n[r];e=e!==null?e[s]:undefined}return e}function shallowClearAndCopy(e,t){t=t||{},angular.forEach(t,function(e,n){delete t[n]});for(var n in e)e.hasOwnProperty(n)&&(n.charAt(0)!=="$"||n.charAt(1)!=="$")&&(t[n]=e[n]);return t}var $resourceMinErr=angular.$$minErr("$resource"),MEMBER_NAME_REGEX=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;angular.module("ngResource",["ng"]).provider("$resource",function(){var e=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$q",function(t,n){function a(e){return f(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function f(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function l(t,n){this.template=t,this.defaults=s({},e.defaults,n),this.urlParams={}}function c(a,f,h,p){function v(e,t){var n={};return t=s({},f,t),i(t,function(t,r){u(t)&&(t=t()),n[r]=t&&t.charAt&&t.charAt(0)=="@"?lookupDottedPath(e,t.substr(1)):t}),n}function m(e){return e.resource}function g(e){shallowClearAndCopy(e||{},this)}var d=new l(a,p);return h=s({},e.defaults.actions,h),g.prototype.toJSON=function(){var e=s({},this);return delete e.$promise,delete e.$resolved,e},i(h,function(e,a){var f=/^(POST|PUT|PATCH)$/i.test(e.method);g[a]=function(l,c,h,p){var y={},b,w,E;switch(arguments.length){case 4:E=p,w=h;case 3:case 2:if(!u(c)){y=l,b=c,w=h;break}if(u(l)){w=l,E=c;break}w=c,E=h;case 1:u(l)?w=l:f?b=l:y=l;break;case 0:break;default:throw $resourceMinErr("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var S=this instanceof g,x=S?b:e.isArray?[]:new g(b),T={},N=e.interceptor&&e.interceptor.response||m,C=e.interceptor&&e.interceptor.responseError||undefined;i(e,function(e,t){["params","isArray","interceptor","ifMatch"].indexOf(t)==-1&&(T[t]=o(e))}),e.ifMatch&&(T.headers||(T.headers={}),b&&(T.headers["If-Match"]=b[e.ifMatch])),f&&(T.data=b),d.setUrlParams(T,s({},v(b,e.params||{}),y),e.url);var k=t(T).then(function(t){var n=t.data,r=x.$promise;if(n){if(angular.isArray(n)!==!!e.isArray)throw $resourceMinErr("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",a,e.isArray?"array":"object",angular.isArray(n)?"array":"object",T.method,T.url);e.isArray?(x.length=0,i(n,function(e){typeof e=="object"?x.push(new g(e)):x.push(e)})):(shallowClearAndCopy(n,x),x.$promise=r)}return x.$resolved=!0,t.resource=x,t},function(e){return x.$resolved=!0,(E||r)(e),n.reject(e)});return k=k.then(function(e){var t=N(e);return(w||r)(t,e.headers),t},C),S?k:(x.$promise=k,x.$resolved=!1,x)},g.prototype["$"+a]=function(e,t,n){u(e)&&(n=t,t=e,e={});var r=g[a].call(this,e,this,t,n);return r.$promise||r}}),g.bind=function(e){return c(a,s({},f,e),h)},g}var r=angular.noop,i=angular.forEach,s=angular.extend,o=angular.copy,u=angular.isFunction;return l.prototype={setUrlParams:function(e,t,n){var r=this,s=n||r.template,o,u,f=r.urlParams={};i(s.split(/\W/),function(e){if(e==="hasOwnProperty")throw $resourceMinErr("badname","hasOwnProperty is not a valid parameter name.");!(new RegExp("^\\d+$")).test(e)&&e&&(new RegExp("(^|[^\\\\]):"+e+"(\\W|$)")).test(s)&&(f[e]=!0)}),s=s.replace(/\\:/g,":"),t=t||{},i(r.urlParams,function(e,n){o=t.hasOwnProperty(n)?t[n]:r.defaults[n],angular.isDefined(o)&&o!==null?(u=a(o),s=s.replace(new RegExp(":"+n+"(\\W|$)","g"),function(e,t){return u+t})):s=s.replace(new RegExp("(/?):"+n+"(\\W|$)","g"),function(e,t,n){return n.charAt(0)=="/"?n:t+n})}),r.defaults.stripTrailingSlashes&&(s=s.replace(/\/+$/,"")||"/"),s=s.replace(/\/\.(?=\w+($|\?))/,"."),e.url=s.replace(/\/\\\./,"/."),i(t,function(t,n){r.urlParams[n]||(e.params=e.params||{},e.params[n]=t)})}},c}]});
